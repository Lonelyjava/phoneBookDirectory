<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script
	src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
<script
	src="https://cdn.datatables.net/1.10.25/js/dataTables.bootstrap.min.js"></script>

<title>View Details</title>
<link rel="shortcut icon" href="/logo/phone.jpg" />
<style>
th {
	background-color: pink
}
;
</style>

<script>
	function basicPopup(phonebook_id) {
		console.log("calling......." + phonebook_id);
		var url = '/nameSearch/view/?id=' + phonebook_id;
		popupWindow = window
				.open(
						url,
						'popUpWindow',
						'height=500,width=500,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes');
	}

	function editPopup(phonebook_id) {
		console.log("calling......." + phonebook_id);
		var url = '/nameSearch/edit/?id=' + phonebook_id;
		popupWindow = window
				.open(
						url,
						'popUpWindow',
						'height=500,width=500,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes');
	}

	function deleteRec() {
		alert("still under procesing......");
	}
	$(document).ready(function() {
		$('#dtBasicExample').DataTable();
	});
</script>
</head>
<body>
	<!-- First Name: ${} -->
	<div class="container">
		<center>
			<h1>Phone Book Directory Records..</h1>
		</center>
		<hr>
		<table id="dtBasicExample"
			class="table table-striped table-bordered table-sm" cellspacing="0"
			width="100%">
			<tr>
				<th>Id</th>
				<th>First Name</th>
				<!-- <th>Last Name</th> -->
				<th>Mobile</th>
				<th>Email:</th>
				<th>Relation Ship</th>
				<th>Service Provider</th>
				<!-- <th>Address</th> -->
				<th>Country</th>
				<th>State</th>
				<!-- <th>Register Date</th> -->
				<th><b>Action</b></th>

			</tr>
			<th:block th:each="PhoneBook : ${phoneBook}">
				<tr>
					<td th:onclick="|basicPopup('${PhoneBook.phonebook_id}' )|"
						id="phonebook_id" th:value="${PhoneBook.phonebook_id}"
						th:text="${PhoneBook.phonebook_id}"></td>
					<th:text ="int i=1">
						<th:text ="inti++">
							<td th:text="${PhoneBook.fname}">...</td>
							<!-- <td th:text="${PhoneBook.lname}">...</td> -->
							<td th:text="${PhoneBook.mobile}">...</td>
							<td th:text="${PhoneBook.email}">...</td>
							<td th:text="${PhoneBook.contacts}">...</td>
							<td th:text="${PhoneBook.serviceProvider}">...</td>
							<!--  <td th:text="${PhoneBook.address}">...</td> -->
							<td th:text="${PhoneBook.country}">...</td>
							<td th:text="${PhoneBook.state}">...</td>
							<!-- <td th:text="${PhoneBook.register_date}">...</td> -->
							<td><button style="color: blue">
									<b th:onclick="|editPopup('${PhoneBook.phonebook_id}' )|">Edit</b>
								</button>
								<button style="color: red">
									<b onclick="deleteRec();">Delete</b>
								</button>
								<button>
									<b th:onclick="|basicPopup('${PhoneBook.phonebook_id}' )|">View</b>
								</button></td>
				</tr>
				<tr>
				</tr>
			</th:block>
		</table>
		<center>
			<h4>
				<font color="red"><b><span th:text="${msg}"></span></b></font>
			</h4>
		</center>
	</div>
</body>
</html>